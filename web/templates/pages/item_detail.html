{{ define "header" }}
<header class="bg-base-100 border-neutral sticky top-0 z-50 border-b py-2">
  <div class="flex flex-wrap items-center gap-2 px-1 md:px-4 lg:px-8">
    <div class="flex min-w-0 flex-1 items-center gap-4">
      <label for="sidebar-toggle" class="btn btn-ghost btn-square lg:hidden">Menu</label>
      <span class="truncate text-base-content/60 text-sm">
        {{ if .Item.Title }}{{ .Item.Title }}{{ else }}{{ .Item.Link }}{{ end }}
      </span>
    </div>
    <div class="ml-auto flex shrink-0 items-center gap-2">
      <a
        href="/feeds/{{ .Item.Feed.ID }}"
        class="btn btn-ghost btn-square"
        title="Feed"
        aria-label="Feed"
      >
        <i class="fa-solid fa-rss" aria-hidden="true"></i>
      </a>
      <form method="post" action="/items/{{ .Item.ID }}/toggle-unread">
        <input type="hidden" name="return" value="{{ .ReturnURL }}" />
        <button
          type="submit"
          class="btn btn-ghost btn-square"
          title="{{ .UnreadLabel }}"
          aria-label="{{ .UnreadLabel }}"
        >
          {{ if eq .UnreadLabel "Mark read" }}
            <i class="fa-solid fa-check" aria-hidden="true"></i>
          {{ else if eq .UnreadLabel "Mark unread" }}
            <i class="fa-solid fa-rotate-left" aria-hidden="true"></i>
          {{ else }}
            <span class="text-xs">{{ .UnreadLabel }}</span>
          {{ end }}
        </button>
      </form>
      <form method="post" action="/items/{{ .Item.ID }}/toggle-bookmark">
        <input type="hidden" name="return" value="{{ .ReturnURL }}" />
        <button
          type="submit"
          class="btn btn-ghost btn-square"
          title="{{ .BookmarkLabel }}"
          aria-label="{{ .BookmarkLabel }}"
        >
          {{ if eq .BookmarkLabel "Unbookmark" }}
            <i class="fa-solid fa-bookmark" aria-hidden="true"></i>
          {{ else }}
            <i class="fa-regular fa-bookmark" aria-hidden="true"></i>
          {{ end }}
        </button>
      </form>
      <a
        href="{{ .Item.Link }}"
        target="_blank"
        class="btn btn-ghost btn-square"
        title="Visit"
        aria-label="Visit"
      >
        <i class="fa-solid fa-up-right-from-square" aria-hidden="true"></i>
      </a>
    </div>
  </div>
</header>
{{ end }}

{{ define "content" }}
<div class="relative flex w-full grow justify-around px-4 py-6">
  <div class="w-full max-w-prose">
    <div class="space-y-2 pb-8">
      <h1 class="text-4xl font-bold">
        <a href="{{ .Item.Link }}" target="_blank" class="inline-flex items-center gap-2 no-underline hover:underline">
          <span>{{ if .Item.Title }}{{ .Item.Title }}{{ else }}{{ .Item.Link }}{{ end }}</span>
        </a>
      </h1>
      <a href="/feeds/{{ .Item.Feed.ID }}" class="text-base-content/60 text-sm hover:underline">
        {{ .Item.Feed.Name }} | {{ .PublishedAt }}
      </a>
    </div>
    <div class="prose text-wrap break-words">
      {{ .ContentHTML }}
    </div>
    {{ if or .PrevItemURL .NextItemURL }}
      <div class="mt-8 flex justify-between">
        {{ if .PrevItemURL }}
          <a href="{{ .PrevItemURL }}" class="btn">Previous</a>
        {{ else }}
          <span></span>
        {{ end }}
        {{ if .NextItemURL }}
          <a href="{{ .NextItemURL }}" class="btn">Next</a>
        {{ end }}
      </div>
    {{ end }}
  </div>
</div>
{{ end }}
